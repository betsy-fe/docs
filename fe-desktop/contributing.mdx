---
title: Contributing & Development
description: Development workflow, testing, and contribution guidelines
---

## Development workflow

### Setting up the development environment

1. Clone the repository and install dependencies:

```bash
git clone https://github.com/betsy-fe/fe-desktop.git
cd fe-desktop
pnpm install
```

2. Copy environment file:

```bash
cp .env.example .env
```

3. Start the development server:

```bash
pnpm start
```

The app will be available at [http://localhost:8080](http://localhost:8080).

## Development commands

<CodeGroup>

```bash Development
# Start dev server with HMR
pnpm start

# Type checking
pnpm typecheck

# Count TypeScript errors
pnpm typecheck:count

# Lint code
pnpm lint

# Lint errors only
pnpm lint:errors

# Format code
pnpm format

# Run all checks
pnpm check
```

```bash Building
# Production build
pnpm build

# Build with bundle analysis
pnpm build:analyze

# Build SDK
pnpm build:sdk

# Clean dist folder
pnpm clean
```

```bash Maintenance
# Update translations
pnpm update-translates

# Update icon types
pnpm update-icons

# Find unused files
pnpm knip

# Count lines of code
pnpm cloc

# Remove unused files
pnpm remove-unused-files
```

</CodeGroup>

## Code style guide

The project follows strict code style guidelines. See [docs/code-style.md](https://github.com/betsy-fe/fe-desktop/blob/master/docs/code-style.md) for details.

### Key principles

<AccordionGroup>
  <Accordion title="Use Biome for linting and formatting" icon="broom">
    The project uses [Biome](https://biomejs.dev/) for code quality:
    
    ```bash
    # Check and fix issues
    pnpm format
    
    # Lint only
    pnpm lint
    ```
  </Accordion>
  
  <Accordion title="Follow TypeScript best practices" icon="code">
    - Use explicit types for function parameters and return values
    - Avoid `any` type
    - Use interfaces for object shapes
    - Prefer `const` over `let`
    
    ```typescript
    // Good
    interface UserProps {
      name: string;
      age: number;
    }
    
    function greetUser(user: UserProps): string {
      return `Hello, ${user.name}`;
    }
    
    // Bad
    function greetUser(user: any) {
      return `Hello, ${user.name}`;
    }
    ```
  </Accordion>
  
  <Accordion title="Use MobX observer pattern" icon="eye">
    Wrap components that use MobX stores with `observer`:
    
    ```typescript
    import { observer } from 'mobx-react-lite';
    
    export const MyComponent = observer(() => {
      const { betslip } = useStore();
      return <div>{betslip.bets.length}</div>;
    });
    ```
  </Accordion>
  
  <Accordion title="Component structure" icon="layer-group">
    Organize components with this structure:
    
    ```
    ComponentName/
    ├── ComponentName.tsx      # Main component
    ├── ComponentName.scss     # Styles
    ├── index.ts               # Export
    └── parts/                 # Sub-components
        └── SubComponent.tsx
    ```
  </Accordion>
</AccordionGroup>

## Git workflow

### Branch naming

Use descriptive branch names:

```bash
# Feature branches
feature/add-live-betting
feature/improve-betslip-ui

# Bug fixes
fix/odds-calculation-error
fix/mobile-layout-issue

# Refactoring
refactor/extract-api-client
refactor/simplify-store-logic
```

### Commit messages

Follow conventional commits:

```bash
# Format
<type>(<scope>): <description>

# Examples
feat(betslip): add quick bet functionality
fix(api): resolve authentication token refresh
refactor(components): extract reusable button component
docs(readme): update installation instructions
style(theme): adjust primary color palette
test(betslip): add unit tests for bet calculation
```

### Pull request process

<Steps>
  <Step title="Create a feature branch">
    ```bash
    git checkout -b feature/my-new-feature
    ```
  </Step>
  
  <Step title="Make your changes">
    Write code, add tests, update documentation.
  </Step>
  
  <Step title="Run quality checks">
    ```bash
    pnpm check
    ```
  </Step>
  
  <Step title="Commit your changes">
    ```bash
    git add .
    git commit -m "feat(scope): description"
    ```
  </Step>
  
  <Step title="Push to remote">
    ```bash
    git push origin feature/my-new-feature
    ```
  </Step>
  
  <Step title="Create pull request">
    Open a PR on GitHub with a clear description of changes.
  </Step>
</Steps>

## Testing

### Running tests

```bash
# Run all tests
pnpm test

# Run tests in watch mode
pnpm test:watch

# Run tests with coverage
pnpm test:coverage
```

### Writing tests

Create test files alongside components:

```
ComponentName/
├── ComponentName.tsx
├── ComponentName.test.tsx
└── ComponentName.scss
```

Example test:

```typescript ComponentName.test.tsx
import { render, screen } from '@testing-library/preact';
import { ComponentName } from './ComponentName';

describe('ComponentName', () => {
  it('renders correctly', () => {
    render(<ComponentName title="Test" />);
    expect(screen.getByText('Test')).toBeInTheDocument();
  });
  
  it('handles click events', () => {
    const handleClick = jest.fn();
    render(<ComponentName onClick={handleClick} />);
    
    screen.getByRole('button').click();
    expect(handleClick).toHaveBeenCalled();
  });
});
```

## Code review guidelines

See [Frontend Code Review Guide](https://turbohub.atlassian.net/wiki/spaces/BDO/pages/4975296515/Frontend+Code+Review+Betsy) for detailed review process.

### Review checklist

<Check>Code follows style guide and passes linting</Check>
<Check>TypeScript types are properly defined</Check>
<Check>Components are properly tested</Check>
<Check>No console.log or debugging code</Check>
<Check>Performance considerations addressed</Check>
<Check>Accessibility standards met</Check>
<Check>Documentation updated if needed</Check>

## Debugging

### Development tools

<AccordionGroup>
  <Accordion title="React DevTools" icon="react">
    Install [React DevTools](https://react.dev/learn/react-developer-tools) browser extension for component inspection.
  </Accordion>
  
  <Accordion title="MobX DevTools" icon="database">
    Use [MobX DevTools](https://github.com/mobxjs/mobx-devtools) to inspect store state.
  </Accordion>
  
  <Accordion title="Network inspection" icon="network-wired">
    Use browser DevTools Network tab to monitor API and WebSocket traffic.
  </Accordion>
</AccordionGroup>

### Common debugging techniques

```typescript
// Debug MobX reactions
import { trace } from 'mobx';

const MyComponent = observer(() => {
  trace(); // Logs which observables are being accessed
  const { betslip } = useStore();
  return <div>{betslip.bets.length}</div>;
});

// Debug WebSocket messages
socket.on('*', (event, data) => {
  console.log('Socket event:', event, data);
});

// Debug API requests
httpClient.interceptors.request.use(config => {
  console.log('API Request:', config);
  return config;
});
```

## Performance optimization

### Best practices

<CardGroup cols={2}>
  <Card title="Use React.memo" icon="memory">
    Memoize expensive components
    
    ```typescript
    export const ExpensiveComponent = memo(({ data }) => {
      return <div>{/* render */}</div>;
    });
    ```
  </Card>
  
  <Card title="Lazy load routes" icon="route">
    Split code by routes
    
    ```typescript
    const LivePage = lazy(() => import('./pages/LivePage'));
    ```
  </Card>
  
  <Card title="Optimize images" icon="image">
    Use lazy loading for images
    
    ```jsx
    <img loading="lazy" src="image.jpg" />
    ```
  </Card>
  
  <Card title="Debounce inputs" icon="keyboard">
    Debounce search and filter inputs
    
    ```typescript
    import { useDebouncedCallback } from 'use-debounce';
    
    const debounced = useDebouncedCallback(
      (value) => search(value),
      300
    );
    ```
  </Card>
</CardGroup>

## Deployment

### Building for production

```bash
pnpm build
```

The production build will be in the `dist/` folder.

### Environment-specific builds

```bash
# Staging
NODE_ENV=staging pnpm build

# Production
NODE_ENV=production pnpm build
```

## Getting help

<CardGroup cols={2}>
  <Card title="Documentation" icon="book" href="/fe-desktop/introduction">
    Read the full documentation
  </Card>
  <Card title="Code style guide" icon="file-code" href="https://github.com/betsy-fe/fe-desktop/blob/master/docs/code-style.md">
    Follow coding standards
  </Card>
  <Card title="OSS package guide" icon="box" href="https://github.com/betsy-fe/fe-desktop/blob/master/docs/how-to-pick-good-oss-package-guide.md">
    Choose dependencies wisely
  </Card>
  <Card title="Jira guidelines" icon="ticket" href="https://github.com/betsy-fe/fe-desktop/tree/master/docs/jira">
    Bug reporting and QA
  </Card>
</CardGroup>
