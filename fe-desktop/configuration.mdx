---
title: Configuration
description: Configure fe-desktop environment and features
---

## Environment variables

The application uses environment variables for configuration. Create a `.env` file in the project root.

### Required variables

<ParamField path="API_URL" type="string" required>
  Base URL for the REST API
  
  ```bash
  API_URL=https://api.example.com
  ```
</ParamField>

<ParamField path="SOCKET_URL" type="string" required>
  WebSocket server URL
  
  ```bash
  SOCKET_URL=wss://socket.example.com
  ```
</ParamField>

<ParamField path="CLIENT_ID" type="string" required>
  Client identifier (also used as API key)
  
  ```bash
  CLIENT_ID=your_client_id
  ```
</ParamField>

### Optional variables

<ParamField path="DEFAULT_LOCALE" type="string" default="en">
  Default language code
  
  ```bash
  DEFAULT_LOCALE=en
  ```
  
  Supported languages: `en`, `ru`, `es`, `pt`, `de`, `fr`, `tr`, `ar`, `zh`, `ja`, `ko`
</ParamField>

<ParamField path="DEFAULT_THEME" type="string" default="dark">
  Default theme identifier
  
  ```bash
  DEFAULT_THEME=dark
  ```
</ParamField>

<ParamField path="ENABLE_DEMO_MODE" type="boolean" default="false">
  Enable demo mode for testing
  
  ```bash
  ENABLE_DEMO_MODE=true
  ```
</ParamField>

<ParamField path="ENABLE_THEME_EDITOR" type="boolean" default="false">
  Enable theme editor for customization
  
  ```bash
  ENABLE_THEME_EDITOR=true
  ```
</ParamField>

<ParamField path="SENTRY_DSN" type="string">
  Sentry DSN for error tracking
  
  ```bash
  SENTRY_DSN=https://xxx@sentry.io/xxx
  ```
</ParamField>

<ParamField path="ANALYZE_BUNDLE" type="boolean" default="false">
  Enable webpack bundle analyzer
  
  ```bash
  ANALYZE_BUNDLE=true
  ```
</ParamField>

### Example .env file

```bash .env
# API Configuration
API_URL=https://api.example.com
SOCKET_URL=wss://socket.example.com
CLIENT_ID=demo_client

# Localization
DEFAULT_LOCALE=en

# Features
ENABLE_DEMO_MODE=true
ENABLE_THEME_EDITOR=false

# Monitoring
SENTRY_DSN=https://xxx@sentry.io/xxx

# Development
ANALYZE_BUNDLE=false
```

## Theme configuration

### Available themes

The application includes several pre-built themes:

- `pro_layout` - Professional layout with modern design
- `turbo_sportsbook` - Turbo-themed sportsbook
- `io_pro` - IO-style professional theme
- `telegramcasino_pro` - Telegram casino theme
- `turbo_pixel` - Pixel-art style theme
- `turbo_slotsbet` - Slots-focused theme

### Selecting a theme

Set the theme via URL parameter or environment:

```bash
# Via URL
https://your-app.com/?theme=pro_layout

# Via environment
DEFAULT_THEME=pro_layout
```

### Custom themes

Create a custom theme by adding a new directory in `src/theme/`:

```
src/theme/
└── my_custom_theme/
    ├── assets/
    │   ├── common.scss
    │   ├── index.scss
    │   └── variables.scss
    ├── images/
    └── vars.json
```

Define theme variables in `vars.json`:

```json vars.json
{
  "colors": {
    "primary": "#007bff",
    "secondary": "#6c757d",
    "success": "#28a745",
    "danger": "#dc3545"
  },
  "fonts": {
    "primary": "Inter, sans-serif",
    "secondary": "Roboto, sans-serif"
  }
}
```

## Feature flags

Control features via query parameters or configuration:

### URL parameters

<ParamField path="cid" type="string">
  Client ID
</ParamField>

<ParamField path="token" type="string">
  Authentication token
</ParamField>

<ParamField path="locale" type="string">
  Language code
</ParamField>

<ParamField path="theme" type="string">
  Theme identifier
</ParamField>

<ParamField path="customStyles" type="string">
  URL to custom CSS file
</ParamField>

<ParamField path="dynamicHeight" type="boolean">
  Enable dynamic iFrame height
</ParamField>

<ParamField path="sub_partner_id" type="string">
  Sub-partner identifier
</ParamField>

### Example URL

```
https://your-app.com/?cid=demo&locale=en&theme=pro_layout&dynamicHeight=true
```

## Client-specific configuration

Configure partner-specific settings in `src/app/parts/ClientResolver/ClientResolver.jsx`:

```javascript
const clientConfig = {
  demo_client: {
    defaultPage: '/live',
    showBalance: true,
    enableQuickBets: true,
    navigation: {
      showFavorites: true,
      showSearch: true
    }
  },
  partner_client: {
    defaultPage: '/top',
    showBalance: false,
    enableQuickBets: false,
    navigation: {
      showFavorites: false,
      showSearch: false
    }
  }
};
```

## API configuration

### HTTP client settings

Configure the HTTP client in `src/lib/api/createHttpClient.ts`:

```typescript
export const httpClient = createHttpClient({
  baseURL: process.env.API_URL,
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json',
    'X-Client-ID': process.env.CLIENT_ID
  }
});
```

### WebSocket settings

Configure WebSocket in `src/lib/api/Socket.js`:

```javascript
const socketConfig = {
  url: process.env.SOCKET_URL,
  reconnection: true,
  reconnectionDelay: 1000,
  reconnectionAttempts: 5,
  timeout: 20000
};
```

## Build configuration

### Webpack configuration

The project uses multiple webpack configurations:

- `webpack.config.dev.ts` - Development server
- `webpack.config.prod.ts` - Production build
- `webpack.config.sdk.ts` - SDK build

### Custom webpack settings

Modify `webpack.config.ts` for custom build settings:

```typescript
export default {
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: '[name].[contenthash].js',
    publicPath: '/'
  },
  optimization: {
    splitChunks: {
      chunks: 'all',
      cacheGroups: {
        vendor: {
          test: /[\\/]node_modules[\\/]/,
          name: 'vendors',
          priority: 10
        }
      }
    }
  }
};
```

## Localization

### Adding a new language

1. Add translation file in `src/translates/assets/`:

```json src/translates/assets/uk.json
{
  "common": {
    "welcome": "Ласкаво просимо",
    "login": "Увійти"
  }
}
```

2. Update language list in `src/lib/languages.js`:

```javascript
export const languages = [
  { code: 'en', name: 'English' },
  { code: 'uk', name: 'Українська' }
];
```

3. Update translations:

```bash
pnpm update-translates
```

## Performance optimization

### Code splitting

Enable route-based code splitting:

```typescript
import { lazy } from 'preact/compat';

const LiveEventsPage = lazy(() => import('./pages/LiveEventsPage'));
```

### Bundle analysis

Analyze bundle size:

```bash
pnpm build:analyze
```

This opens the webpack bundle analyzer in your browser.

## Next steps

<CardGroup cols={2}>
  <Card title="Contributing" icon="code-branch" href="/fe-desktop/contributing">
    Development workflow and guidelines
  </Card>
  <Card title="API Reference" icon="code" href="/fe-desktop/api">
    Explore public APIs
  </Card>
</CardGroup>
